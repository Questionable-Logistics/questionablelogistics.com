.subnav {
	&:not([data-is-open='false']) .subnav-controls button {
		background-color: hsla(var(--palette-white-hsl), 0.2) !important;

		&:after {
			transform: rotate(-180deg);
		}
	}

	.subnav-controls {
		display: flex;
		list-style: none;

		button {
			align-items: center;
			justify-content: center;
			display: flex;
			padding: var(--gutter);
			transition-duration: 0.2s;
			transition-property: background-color;

			&:after {
				background-color: transparent;
				border-color: transparent;
				border-style: solid;
				border-width: 1rem;
				border-bottom-width: 0;
				border-top-color: var(--palette-white);
				content: '';
				transform: rotate(0deg);
				transition-duration: 0.1s;
				transition-property: transform;
			}

			&:focus,
			&:hover {
				background-color: hsla(var(--palette-white-hsl), 0.2) !important;
			}
		}
	}

	.subnav-content {
		overflow: hidden;

		a.nav-link {
			text-indent: 2rem;

			&:focus,
			&:hover {
				text-indent: 3rem;
			}
		}
	}
}

a.nav-link {
	color: var(--palette-white);
	display: block;
	flex-basis: 100%;
	font-family: var(--font-display);
	font-size: 2rem;
	padding: var(--gutter);
	position: relative;
	text-decoration: none;
	text-indent: 0;
	transition-duration: 0.2s;
	transition-property: text-indent;

	&:after,
	&:before {
		bottom: 0;
		content: '';
		left: 0;
		pointer-events: none;
		position: absolute;
		top: 0;
		transition-duration: 0.2s;
	}

	&:after {
		background-color: hsla(var(--palette-white-hsl), 0.2);
		right: 100%;
		transition-property: right;
		z-index: -1;
	}

	&:before {
		background-color: var(--palette-light-blue);
		width: 0;
		transition-property: width;
	}

	&:focus,
	&:hover {
		text-indent: 1rem;

		&:after {
			right: 0;
		}
	}

	&.is-active:before {
		width: 0.2rem;
	}
}
